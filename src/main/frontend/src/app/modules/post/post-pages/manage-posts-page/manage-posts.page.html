<app-manage-resources-page-layout
  pageTitle="My Posts"
  [previousButtonCssClasses]="previousButtonCssClasses"
  [nextButtonCssClasses]="nextButtonCssClasses"
  (previousButtonClick)="handlePreviousButtonClickEvent()"
  (nextButtonClick)="handleNextButtonClickEvent()"
>
  <ng-container class="top-table-actions">
    <app-new-button
      routerLink="/posts/new"
      class="tooltip-bottom"
      data-tooltip="create new post"
    ></app-new-button>
  </ng-container>

  <ng-container class="table">
    <table mat-table matSort [dataSource]="dataSource">
      <ng-container matColumnDef="title">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Title</th>
        <td mat-cell *matCellDef="let element">{{element.title}}</td>
      </ng-container>

      <ng-container matColumnDef="category">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Category</th>
        <td mat-cell *matCellDef="let element">{{element.category}}</td>
      </ng-container>

      <ng-container matColumnDef="createdAt">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Created At</th>
        <td mat-cell *matCellDef="let element">{{element.createdAt | date}}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell mat-sort-header *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <div class="row-actions">
            <app-consult-button-link
              [routerLink]="['/posts', element.id, 'consult']"
            ></app-consult-button-link>
            <app-edit-button-link
              [routerLink]="['/posts', element.id, 'edit']"
            ></app-edit-button-link>
            <app-delete-button
              (click)="deletePost(element.id)"
            ></app-delete-button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row class="row" *matRowDef="let row; columns: columns;"></tr>
    </table>
  </ng-container>
</app-manage-resources-page-layout>
