<div class="header">
  <app-page-title value="My Posts"></app-page-title>
  <div class="table-actions">
    <app-new-button
      routerLink="/posts/new"
      class="tooltip-bottom"
      data-tooltip="create new post"
    ></app-new-button>
  </div>
</div>
<table mat-table matSort [dataSource]="userPostsDataSource">
  <ng-container matColumnDef="title">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>Title</th>
    <td mat-cell *matCellDef="let element">{{element.title}}</td>
  </ng-container>

  <ng-container matColumnDef="category">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>Category</th>
    <td mat-cell *matCellDef="let element">{{element.category}}</td>
  </ng-container>

  <ng-container matColumnDef="createdAt">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>Created At</th>
    <td mat-cell *matCellDef="let element">{{element.createdAt | date}}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell mat-sort-header *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element">
      <div class="post-actions">
        <app-consult-button-link
          [routerLink]="['/posts', element.id, 'consult']"
        ></app-consult-button-link>
        <app-edit-button-link
          [routerLink]="['/posts', element.id, 'edit']"
        ></app-edit-button-link>
        <app-delete-button (click)="deletePost(element.id)"></app-delete-button>
      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    class="post"
    *matRowDef="let row; columns: displayedColumns;"
  ></tr>
</table>

<div class="table-actions">
  <app-previous-button
    class="{{ previousButtonCssClasses$ | async }}"
    (click)="handlePreviousButtonClickEvent()"
  ></app-previous-button>
  <app-next-button
    class="{{ nextButtonCssClasses$ | async }}"
    (click)="handleNextButtonClickEvent()"
  ></app-next-button>
</div>
